package com.ojas.spring.git;

import java.io.IOException;

import okhttp3.OkHttpClient;
import okhttp3.Request;
import okhttp3.Response;


//	   static String GitHub_Api_BASEURL = "https://api.github.com/";
//       static  String user = "Ranjithk52"; 
//	   static String repo = "Practice"; 
//	   static String path = "src/main/java/com/ojas1/Calculate.java";
//	   static String accessToken = "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";
//	   public static void main(String[] args) throws IOException {
//	 OkHttpClient client = new OkHttpClient(); 
//	 //List<Branches> branches=null; 
//	 
//	 String url = GitHub_Api_BASEURL + user +"/"+ repo +"/pull/2"; 
//	 Request request = new Request.Builder() 
//			 .url(url) 
//			 .header("Authorization", "token " + accessToken) 
//			 .build(); 
//	 Response response = client.newCall(request).execute(); 
//	 System.out.println(response);
//	
//	 if (response.isSuccessful()) { 
//    String responseData = response.body().string(); 
//    System.out.println(responseData);
//	
//	 }
//	   }
	
	import java.io.IOException;
	import java.util.List;

	import org.kohsuke.github.GHCommitComment;
	import org.kohsuke.github.GHRepository;
	import org.kohsuke.github.GitHub;

	
	public class GitReview {  
	    public static void main(String[] args) {
	        String accessToken = "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";
	        String repositoryName = "Practice";
	        String ownerName = "Ranjithk52";
	        
	        try {
	            GitHub github = GitHub.connectUsingOAuth(accessToken);
	            GHRepository repo = github.getRepository(ownerName + "/" + repositoryName);
	            List<GHCommitComment> comments = repo.listCommitComments().asList();
	            
	            for (GHCommitComment comment : comments) {
	                System.out.println(comment.getBody());
	            }
	        } catch (IOException e) {
	            e.printStackTrace();
	        }
	    }
	}


